<!-- Login: ApolloWeb -->
<!-- Timestamp: 2025-03-18 07:47:24 -->

<div class="wrap">
    <h1>Printify Settings</h1>
    <form id="printify-settings-form" method="post" action="options.php" class="bootstrap-form">
        <?php settings_fields('printify_settings'); ?>
        <?php do_settings_sections('printify_settings'); ?>
        <div class="form-group row">
            <label for="printify_endpoint" class="col-sm-2 col-form-label">Printify Endpoint</label>
            <div class="col-sm-10">
                <input type="text" name="printify_endpoint" value="<?php echo esc_attr(get_option('printify_endpoint')); ?>" class="form-control" id="printify_endpoint" />
            </div>
        </div>
        <div class="form-group row">
            <label for="printify_api_key" class="col-sm-2 col-form-label">API Key</label>
            <div class="col-sm-10">
                <input type="password" name="printify_api_key" value="<?php echo esc_attr(str_repeat('*', strlen(get_option('printify_api_key')))); ?>" class="form-control" id="printify_api_key" />
            </div>
        </div>
        <div class="form-group row">
            <label for="printify_shop" class="col-sm-2 col-form-label">Select Shop</label>
            <div class="col-sm-8">
                <select name="printify_shop" id="printify_shop" class="form-control" disabled>
                    <option value="">-- Select Shop --</option>
                    <!-- Shops will be populated here by JavaScript -->
                </select>
            </div>
            <div class="col-sm-2">
                <button type="button" id="fetch-shops-button" class="btn btn-secondary" disabled>Fetch Shops</button>
            </div>
        </div>
        <?php submit_button('Save Settings', 'primary', 'submit', true, ['class' => 'btn btn-primary']); ?>
    </form>
    <button id="test-api-button" class="btn btn-secondary mt-3"><i class="fas fa-check"></i> Test API</button>
    <div id="test-api-result" class="mt-3"></div>
</div>